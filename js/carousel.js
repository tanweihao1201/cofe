var oDiv=document.querySelector(".banner"),oUl=document.querySelector(".banner ul"),oOl=document.querySelector(".banner ol"),oUlLi=document.querySelectorAll(".banner ul>li"),index=1,liWidth=parseInt(getStyle(oUlLi[0],"width")),newLiLength=oUlLi.length+2,loopTime=null,bool=!1;function setLi(){for(var e=0;e<=oUlLi.length-1;e++){var o=document.createElement("li");o.setAttribute("index",e+1),0==e&&(o.className="active"),oOl.appendChild(o)}}function copyLi(){var e=oUl.children[0].cloneNode(!0),o=oUl.children[oUlLi.length-1].cloneNode(!0);oUl.appendChild(e),oUl.insertBefore(o,oUl.children[0]);var t=document.querySelectorAll("ul li");oUl.style.width=t.length*liWidth+"px",oUl.style.left=-liWidth+"px"}function autoLoop(){loopTime=setInterval(function(){index++,move(oUl,{left:-index*liWidth},loopEnd)},3e3)}function loopEnd(){index==newLiLength-1&&(index=1,oUl.style.left=-index*liWidth+"px"),0==index&&(index=newLiLength-2,oUl.style.left=-index*liWidth+"px"),oOl.querySelectorAll("li").forEach(function(e){e.className="",e.getAttribute("index")==index&&(e.className="active")}),bool=!1}function overOut(){oDiv.addEventListener("mouseover",function(){clearInterval(loopTime)}),oDiv.addEventListener("mouseout",function(){autoLoop()})}function leftRight(){oDiv.addEventListener("click",function(e){bool||(bool=!0,"left"===(e=e||window.event).target.name&&(index--,move(oUl,{left:-index*liWidth},loopEnd)),"right"==e.target.name&&(index++,move(oUl,{left:-index*liWidth},loopEnd)))})}function focus(){oOl.addEventListener("click",function(e){bool||(bool=!0,"LI"==(e=e||window.event).target.tagName&&(index=+e.target.getAttribute("index"),move(oUl,{left:-index*liWidth},loopEnd)))})}setLi(),copyLi(),autoLoop(),overOut(),leftRight(),focus();